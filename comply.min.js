jQuery(document).ready(function(e){function t(){y.on("keydown",function(t){if(window.innerWidth>p){if(t.shiftKey||9!==t.which){if(27===t.which)n();else if(37===t.which||t.shiftKey&&9===t.which)E&&a();else if(39===t.which)E&&i();else if(38===t.which)E&&a();else if(40===t.which){if("skipper"===K)return T=0,e(".working").addClass("ada-parent").removeClass("working"),e(M[A][T]).addClass("working").focus(),K="opened",void(N=!1);E&&i()}}else i(),E=!0,D||(D="start");(!t.shiftKey&&9===t.which||37===t.which||38===t.which||39===t.which||40===t.which||t.shiftKey&&9===t.which)&&(E&&t.preventDefault(),s(t))}}),e(window).resize(function(){var e;e=window.innerWidth,x>760&&760>=e?(n(),x=e):760>=x&&e>760&&(n(),x=e)})}function n(){var t=e("#adaContent"),n=e("#adaStatus");T=0,A=0,E=!1,N=!1,K=!1,e(".working, .ada-parent").removeClass("working ada-parent"),n.text("Menu navigation turned off"),n.removeClass("start").addClass("exit"),t.css("height",0),setTimeout(function(){n.css("opacity",0)},400),setTimeout(function(){t.removeClass("start"),n.removeClass("exit")},1e3)}function o(){d=M[A].length-1}function i(){if("skipper"===K&&(T=w,K=!1),E===!1)o(),e(M[A][T]).addClass("working").focus(),e("body, html").scrollTop()>100&&e("html, body").animate({scrollTop:0},500);else if(T===d&&A!==M.length-1)N=M[A][T],e(".working").removeClass("working"),A++,T=0,e(M[A][T]).addClass("working").focus(),o();else{if(T===d&&A===M.length-1)return;E===!0&&(("start"===D||D===!0)&&(D=!1),e(M[A][T]).removeClass("working"),T++,e(M[A][T]).addClass("working").focus())}}function a(){"skipper"===K&&(T=f,K=!1),(0!==A||0!==T)&&(0===T&&0!==A?(N=M[A][T],e(".working").removeClass("working"),A--,o(),T=d,e(M[A][T]).addClass("working").focus()):(e(M[A][T]).removeClass("working"),T--,e(M[A][T]).addClass("working").focus()))}function s(t){if(S&&(u.removeClass("working"),S=!1),K!==!1)if("opened"===K)if(N===!1)0===e(M[A][T]).parents(R[A]).length&&(e(".ada-parent").removeClass("ada-parent"),e(M[A][T]).removeClass("working"),u.addClass("working").focus(),K=!0);else{var n;n=null===R[A]?"XXnothingXX":R[A],0===e(N).parents(n).length&&(e(".ada-parent").removeClass("ada-parent"),e(M[A][T]).removeClass("working"),u.addClass("working").focus(),w=0,K=!1,N=!1)}else 13===t.which||40===t.which?(e(".working").addClass("ada-parent").removeClass("working"),T=g,e(M[A][T]).addClass("working").focus(),K="opened"):!t.shiftKey&&9===t.which||39===t.which?(e(".working").removeClass("working"),T=w,e(M[A][T]).addClass("working").focus(),K=!1):(37===t.which||38===t.which||t.shiftKey&&9===t.which)&&(e(".working").removeClass("working"),T=f,e(M[A][T]).addClass("working").focus(),K=!1);else if(0!==e(M[A][T]).parents(R[A]).length&&null!==R[A]){e(M[A][T]).removeClass("working"),u=e(M[A][T]).parents(R[A]),u.addClass("working").focus(),(39===t.which||40===t.which||!t.shiftKey&&9===t.which)&&(g=T);for(var o=T;d>o;o++)0===e(M[A][o]).parents(R[A]).length?w=o:o===d-1&&(w=M[A].length-1,K="skipper");for(var i=T;i>=0;i--)0===e(M[A][i]).parents(R[A]).length?f=i:0===i&&(f=0,K="skipper"),(37===t.which||38===t.which||t.shiftKey&&9===t.which)&&0!==e(M[A][i]).parents(R[A]).length&&(g=i);K="skipper"!==K?!0:"skipper"}}function r(e,t){var n,o=[e[0],e[1],e[2]];t?(v=e,k=e[0]*e[1]*e[2]):(C=e,b=e[0]*e[1]*e[2]);for(var i=0;i<o.length;i++)o[i]=o[i]>10?Math.pow(o[i]/269+.0513,2.4):o[i]/3294;return n=.2126*o[0]+.7152*o[1]+.0722*o[2]}function l(e,t,n,o){var i,a,s,l=r(e,!0),c=r(t);i=c>l?(c+.05)/(l+.05):(l+.05)/(c+.05),a=i>=4.5,s=k>b?"back":"fore",a||h([v,t,s],n,o)}function h(e,t,n){if(m=e,Y=[[],[]],Y.push(e[2]),3e3>z){2999===z&&console.log("%cYou have exceed the recommended selector limit and should scope the selectors more accurately for $.eleColorChecker()","background: red; color: white; padding: 0 5px; font-size: -16px;");var o,i,a,s;if("fore"===m[2])for(var r=0;3>r;r++)m[0][r]=m[0][r]-2,m[1][r]=m[1][r]+2,m[1][r]>255&&(m[1][r]=255),m[0][r]<1&&(m[0][r]=0),Y[0].push(m[0][r]),Y[1].push(m[1][r]);else for(var r=0;3>r;r++)m[0][r]=m[0][r]+2,m[1][r]=m[1][r]-2,m[0][r]>255&&(m[0][r]=255),m[1][r]<0&&(m[1][r]=0),Y[0].push(m[0][r]),Y[1].push(m[1][r]);for(var l=0;2>l;l++)for(var c=0;3>c;c++)m[l][c]=m[l][c]>10?Math.pow(m[l][c]/269+.0513,2.4):m[l][c]/3294;o=.2126*m[0][0]+.7152*m[0][1]+.0722*m[0][2],i=.2126*m[1][0]+.7152*m[1][1]+.0722*m[1][2],a=i>o?(i+.05)/(o+.05):(o+.05)/(i+.05),s=a>=4.5,z++,s?(t.css("color","rgb("+Y[0][0]+","+Y[0][1]+","+Y[0][2]+")"),n.css("background","rgb("+Y[1][0]+","+Y[1][1]+","+Y[1][2]+")")):h(Y,t,n)}}function c(e){if("transparent"===e||"rgba(0, 0, 0, 0)"===e)return"transparent";if("rgb("===e.substr(0,4))var t=e.substr(4);else var t=e.substr(5);t=t.substr(0,t.length-1).split(",");for(var n=0;n<t.length;n++)t[n]=parseInt(t[n]);return 4===t.length&&t.pop(),t}var d,g,u,f,w,p,v,C,k,b,m,y=jQuery(document),F=jQuery("html"),x=window.innerWidth,E=!1,A=0,T=0,M=[],R=[],K=!1,S=!1,N=!1,D=!1,P=0,z=0,Y=[[],[]],I="background: #FF0000; color:#FFFFFF; padding: 0 5px;",W="background: #009900; color:#FFFFFF; padding: 0 20px; font-size: 16px;",j="background: #000000; color:#FFFFFF; padding: 0 20px; font-size: 16px;",Q="background: #FFA500; color:#FFFFFF; padding: 0 20px; font-size: 16px;";jQuery.fn.eleText=function(){return e(this).clone().children().remove().end().text()},e.adaSanitize=function(){if(e("b").length||e("i").length){var t=e("body").html();t=t.replace(/<b/g,"<b>").replace(/<\/strong>/g,"</strong>").replace(/<i/g,"<i>").replace(/<\/em>/g,"</em>"),e("body").html(t)}e("a").each(function(){e(this).css("text-decoration","underline")})},e.adaAria=function(){var t;setTimeout(function(){e("button").length&&e("button").each(function(){void 0===e(this).attr("aria-label")&&(""!==e(this).eleText()?(t=e(this).eleText(),e(this).attr("aria-label",t)):void 0!==e(this).attr("title")?(t=e(this).attr("title"),e(this).attr("aria-label",t)):e(this).children("span").length&&""!==e(this).children("span").eq(0).eleText()?(t=e(this).children("span").eq(0).eleText(),e(this).attr("aria-label",t)):e(this).find("title").length&&""!==e(this).find("title").eq(0).eleText()&&(t=e(this).find("title").eq(0).text(),e(this).attr("aria-label",t)))}),e("label").length&&e("label").each(function(){void 0===e(this).attr("aria-label")&&e(this).attr("aria-label",e(this).eleText())}),e("a").on({mouseenter:function(){"underline"!==e(this).css("text-decoration")&&e(this).css("text-decoration","underline !important").addClass("ada-a-tag")},focus:function(){"underline"!==e(this).css("text-decoration")&&e(this).css("text-decoration","underline !important").addClass("ada-a-tag")},mouseleave:function(){e(this).hasClass("ada-a-tag")&&e(this).removeClass("ada-a-tag")},blur:function(){e(this).hasClass("ada-a-tag")&&e(this).removeClass("ada-a-tag")}})},500)},e.adaImages=function(t){var n;setTimeout(function(){for(var o=0;o<t.length;o++)e(t[o][0]).each(function(){(""===e(this).attr("alt")||void 0===e(this).attr("alt"))&&("parent"===t[o][1]?n=e(this).parents(t[o][2]).text():"sibling"===t[o][1]?n=e(this).siblings(t[o][2]).text():"combo"===t[o][1]?n=e(this).parents(t[o][2]).find(t[o][3]).text():"custom"===t[o][1]&&(n=t[o][2]),e(this).attr("alt",n))})},500)},e.adaBuilder=function(e,n){if(p=n,void 0===e)return console.log("%cYou have not defined an array of valid selectors.",I),!1;for(var o=0;o<e.length;o++)if(2===e[o].length){if(M[o]=e[o][0],0===e[o][1].length)return console.log(e[o][1]+"%c is not a valid parent element. Please fix before continuing.",I),!1;R[o]=e[o][1]}else M[o]=e[o],R[o]=null;t()},e.adaBuilder.notify=function(t){var n,o,i;"content"===t?(e("body").prepend('<div id="adaContent"></div>'),n=e("#adaContent")):"status"===t?(e("body").append('<div id="adaStatus"></div>'),o=e("#adaStatus")):(e("body").prepend('<div id="adaContent"></div>'),e("body").append('<div id="adaStatus"></div>'),n=e("#adaContent"),o=e("#adaStatus")),n.length&&n.html('Press "C" if you need to contrast colors further</br>Press SPACEBAR to skip to main content'),y.on("keydown",function(e){window.innerWidth>p&&(32===e.which?n.hasClass("start")?n.removeClass("start"):n.addClass("start"):(!e.shiftKey&&9===e.which||37===e.which||38===e.which||39===e.which||40===e.which||e.shiftKey&&9===e.which)&&((D="start")?(n.addClass("start"),n.css("height","80px"),o.text("Menu navigation turned on. Press 'Esc' to turn off."),o.addClass("start").css("opacity",1),i=!0):i&&(n.removeClass("start"),o.removeClass("start"),i=!1)))})},e.adaMainContent=function(t,n){F.on("keydown",function(o){window.innerWidth>p&&(E===!0&&32===o.which&&"start"===D?(o.preventDefault(),e("html, body").animate({scrollTop:e(t).offset().top},void 0===n?500:n),D=!0):E===!0&&32===o.which&&D===!0?(o.preventDefault(),e("html, body").animate({scrollTop:0},void 0===n?500:n),D="start",e("#adaMainContent").addClass("show")):e("#adaMainContent").removeClass("show"))})},e.adaContrast=function(t){if("override"==t);else if(t.length>0)for(var n=0;n<t.length;n++)t[n].addClass("ada-contrast");else e("*").each(function(){e(this).addClass("ada-contrast")})},e.adaDebug=function(t){if(0===M.length)return console.log("%cADA Builder has not been ran yet. Run $.adaBuilder first with a valid array of elements",I),!1;if(void 0===t)return console.log("%cNo argument has been passed. Please enter a valid argument.",I),!1;if("adaLinks"===t)for(var n=0;n<M.length;n++){null===R[n]||null!==R[n]&&0===e(M[n][0]).parents(R[n]).length?e(M[n][0]).parent().prepend('<div style="position: absolute; text-align: center; line-height: initial; padding: 5px 0; width: 30px; background:#009900; color: #FFFFFF; z-index: 9999;">'+n+"</div>"):e(R[n]).prepend('<div style="position: absolute; text-align: center; line-height: initial; padding: 5px 0; width: 30px; background:#009900; color: #FFFFFF; z-index: 9999;">'+n+"</div>"),console.log("%cMENU ARRAY "+n,W);for(var o=0;o<M[n].length;o++)console.log(M[n][o].href)}else if("parentLinks"===t){console.log("%cPARENTS ARRAY",Q);for(var i=0;i<R.length;i++)console.log(null!==R[i]?"Menu "+i+": "+R[i]:"Menu "+i+": null")}else if("index"===t)y.on("keydown",function(e){window.innerWidth>p&&(!e.shiftKey&&9===e.which||37===e.which||38===e.which||39===e.which||40===e.which||e.shiftKey&&9===e.which)&&console.log("%cMenu: "+A+" Menu Item: "+T,j)});else if("event"===t)y.on("keydown",function(e){window.innerWidth>p&&(e.shiftKey||9!==e.which?e.shiftKey&&9===e.which?console.log("Event: Shift+Tab"):27===e.which?console.log("Event: Esc"):37===e.which||e.shiftKey&&9===e.which?console.log("Event: Left arrow"):39===e.which?console.log("Event: Right arrow"):38===e.which?console.log("Event: Up arrow"):40===e.which&&console.log("Event: Down arrow"):console.log("Event: Tab"))});else if("allMenu"===t){for(var n=0;n<M.length;n++){null===R[n]||null!==R[n]&&0===e(M[n][0]).parents(R[n]).length?e(M[n][0]).parent().prepend('<div style="position: absolute; text-align: center; line-height: initial; padding: 5px 0; width: 30px; background:#009900; color: #FFFFFF; z-index: 9999;">'+n+"</div>"):e(R[n]).prepend('<div style="position: absolute; text-align: center; line-height: initial; padding: 5px 0; width: 30px; background:#009900; color: #FFFFFF; z-index: 9999;">'+n+"</div>"),console.log("%cMENU ARRAY "+n,W);for(var o=0;o<M[n].length;o++)console.log(M[n][o].href)}console.log("%cEND MENU ARRAYS",W),y.on("keydown",function(e){window.innerWidth>p&&((!e.shiftKey&&9===e.which||37===e.which||38===e.which||39===e.which||40===e.which||e.shiftKey&&9===e.which)&&console.log("%cMenu: "+A+" Menu Item: "+T,j),e.shiftKey||9!==e.which?e.shiftKey&&9===e.which?console.log("Event: Shift+Tab"):27===e.which?console.log("Event: Esc"):37===e.which||e.shiftKey&&9===e.which?console.log("Event: Left arrow"):39===e.which?console.log("Event: Right arrow"):38===e.which?console.log("Event: Up arrow"):40===e.which&&console.log("Event: Down arrow"):console.log("Event: Tab"))}),console.log("%cPARENTS ARRAY",Q);for(var i=0;i<R.length;i++)console.log(null!==R[i]?"Menu "+i+": "+R[i]:"Menu "+i+": null");console.log("%cEND PARENTS ARRAY",Q)}},e.eleColorChecker=function(t){jQuery(document).on("keydown",function(n){67===n.which&&E!==!1&&e.eleColorCheckerSys(t)})},e.eleColorCheckerSys=function(t){var n=t;z=0,void 0===t?(console.log("I AM UNDEF"),t=e("*")):(console.log(t[P]),t=e(t[P])),t.each(function(){var n=e(this).prop("nodeName");if("MAIN"==n||"NAV"==n||"HEADER"==n||"DIV"==n||"P"==n||"H1"==n||"H2"==n||"H3"==n||"H4"==n||"H5"==n||"H6"==n||"A"==n||"P"==n||"LI"==n||"SPAN"==n||"LABEL"==n||"PRE"==n||void 0!==t){var o,i=e(this),a=e(this),s=c(e(this).css("color")),r=c(e(this).css("background-color"));if("transparent"===r){o=e(this).parents();for(var h=0;h<o.length;h++){if("BODY"===e(o[h]).prop("nodeName")){a=e("body"),r=[256,256,256];break}if("rgba(0, 0, 0, 0)"!==e(o[h]).css("background-color")){a=e(o[h]),r=c(e(o[h]).css("background-color"));break}h===o.length-1&&(a=e("body"),r=[256,256,256])}}l(s,r,i,a)}}),n.length>1&&P<=t.length+1&&(P++,e.eleColorCheckerSys(n))}}(jQuery));
